---
name: Remove injector replacement functions
status: open
created: 2026-02-04T08:58:48Z
updated: 2026-02-04T08:58:48Z
github: [Will be updated when synced to GitHub]
depends_on: [001]
parallel: true
conflicts_with: [003]
---

# Task: Remove injector replacement functions

## Description
Remove all Text Replacements-related functions and logic from the injector JavaScript file. This includes the text replacement compilation, DOM text replacement, and shadow DOM traversal functions.

## Acceptance Criteria
- [ ] `compileReplacements()` function removed
- [ ] `replaceText()` function removed
- [ ] `replaceShadowDOMText()` function removed
- [ ] `this.replacements` property references removed
- [ ] `this.compiledReplacements` property references removed
- [ ] Replacement calls removed from `applyRebrand()` function
- [ ] `escapeRegExp()` helper removed (if only used for replacements)
- [ ] No JavaScript errors in browser console

## Technical Details
- File affected: `custom_components/ha_rebrand/frontend/ha-rebrand-injector.js`
- Remove entire function definitions
- Remove property initializations
- Remove calls from `applyRebrand()` or similar entry points
- Check if `escapeRegExp()` is used elsewhere before removing

## Dependencies
- [ ] Task 001 - Backend code must be removed first so config doesn't send replacement data

## Effort Estimate
- Size: S
- Hours: 1-2
- Parallel: true (can run alongside Task 003)

## Definition of Done
- [ ] All replacement functions removed
- [ ] No JavaScript syntax errors
- [ ] Injector loads and initializes correctly
- [ ] Other rebranding features (logo, favicon, colors) still work
